webpackJsonp([4],{hEq8:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("hPYf"),n={data:function(){return{city:"长沙",cityId:"19",name:"",cellphone:""}},created:function(){},methods:{preview:function(t){var e=t.target,a=new FormData,n=e.files[0];a.append("uid","aa"),a.append("deviceType","ios"),a.append("signature","1"),a.append("multipartFile",n),this.requst.requestFile("http://192.168.1.104:18192/yuedianqian-wap/zs/v1/zimgOpr/upload ",a,function(t){console.log(t);var e=new FileReader;e.readAsDataURL(n),e.onload=function(e){var a=document.getElementById("img_ul"),n=document.createElement("li");n.dataVal=t.respData.url,n.innerHTML='<i class="icon iconfont">&#xe617;</i><img src="'+e.target.result+'"/>',a.insertBefore(n,Object(i.d)("#upload_btn")),Object(i.d)("#img_ul li").length>=5?Object(i.d)("#upload_btn").classList.add("hidden"):Object(i.d)("#upload_btn").classList.remove("hidden")}},function(){})},submit:function(t,e){var a=Object(i.d)("#name_btn").value,n=Object(i.d)("#tel_btn").value,s={openId:"getOpenId()",city:"长沙",cityId:"19",name:a,cellphone:n,province:"湖南",provinceId:"19",photos:[],signature:"1",edition:"1",deviceType:"ios"};this.name=a,this.cellphone=n;for(var l=0,d=Object(i.d)("#img_ul li").length;l<d;l++)s.photos.push(Object(i.d)("#img_ul li")[l].dataVal);console.log(s.photos),console.log(c()),c()&&(this.$router.push("/myCenter?name="+Object(i.a)(s)),this.requst.request("http://192.168.1.104:18192/yuedianqian-wap/zs/customer/v1.0/addCustomer",s,function(t){var e=t.respCode;t.respMsg;1==e?this.$router.push("/index"+Object(i.a)(s)):this.$router.push("/myCenter"+this.name)},function(){}));function c(){var t=Object(i.d)("#name_btn").value||null,e=Object(i.d)("#tel_btn").value||null,a=/^1[3|4|5|7|8|9]\d{9}$/;return t&&e?1==/\d/g.test(t)||t.length>20?(Object(i.e)("请输入您的真实姓名，不超过20个汉字",3e3),!1):1!=!a.test(e)||(Object(i.e)("请输入正确的手机号码",3e3),!1):(Object(i.e)("用户名与手机号码不能为空!",3e3),!1)}},addPhoto:function(t){"I"==t.target.tagName&&(t.target.parentElement.outerHTML=""),Object(i.d)("#img_ul li").length>=5?Object(i.d)("#upload_btn").classList.add("hidden"):Object(i.d)("#upload_btn").classList.remove("hidden")}}},s={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",{attrs:{name:"fade"}},[i("div",{staticClass:"infoUpload",attrs:{id:"infoUpload"}},[i("div",{staticClass:"header-prompt f-12"},[t._v("目前仅支持在长沙办理业务，其他地区暂未开放")]),t._v(" "),i("div",{staticClass:"rows mt10"},[t._v("\n\t\t业务办理城市\n\t\t"),i("span",{staticClass:"fr",attrs:{id:""}},[t._v("长沙")])]),t._v(" "),i("div",{staticClass:"tel-name mt10"},[i("div",{staticClass:"input-rows"},[i("label",{staticClass:"f-15"},[t._v("姓名")]),t._v(" "),i("input",{staticClass:"f-15 text-right",attrs:{id:"name_btn",type:"text",placeholder:"请输入姓名"}})]),t._v(" "),i("div",{staticClass:"input-rows"},[i("label",{staticClass:"f-15"},[t._v("手机号码")]),t._v(" "),i("input",{staticClass:"f-15 text-right",attrs:{id:"tel_btn",type:"tel",placeholder:"请输入手机号码"}})])]),t._v(" "),i("div",{staticClass:"img-upload mt10"},[i("div",{staticClass:"img-upload-content f-15"},[t._v("\n\t\t\t行驶证照片\n\t\t\t"),i("p",{staticClass:"mt10 f-12"},[t._v("拍摄行驶证照片，方便业务经理为您初步评估")])]),t._v(" "),i("ul",{staticClass:"img-ul",attrs:{id:"img_ul"},on:{click:function(e){t.addPhoto(e)}}},[i("div",{staticClass:"upload-btn",attrs:{id:"upload_btn"}},[i("img",{attrs:{id:"upload_btn_img",src:a("vN91")}}),t._v(" "),i("input",{staticClass:"file-btn",attrs:{id:"file_btn",type:"file",accept:"image/*",value:""},on:{change:function(e){t.preview(e)}}})])])]),t._v(" "),i("div",{staticClass:"submit-box"},[i("a",{staticClass:"submit-btn f-15",attrs:{id:"submit_btn"},on:{click:function(e){t.submit("bbb",e)}}},[t._v("提交")])])])])},staticRenderFns:[]};var l=a("VU/8")(n,s,!1,function(t){a("kdW3")},null,null);e.default=l.exports},kdW3:function(t,e){},vN91:function(t,e,a){t.exports=a.p+"static/img/driving_permit_image.f2afa6e.png"}});