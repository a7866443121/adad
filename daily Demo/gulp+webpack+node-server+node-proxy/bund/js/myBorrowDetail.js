"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e){function n(s){if(t[s])return t[s].exports;var a=t[s]={exports:{},id:s,loaded:!1};return e[s].call(a.exports,a,a.exports,n),a.loaded=!0,a.exports}var t={};n.m=e,n.c=t,n.p="",n(0)}([function(e,n,t){var s=t(1),a=t(2);s.share(),window.onload=function(){var e=s.getPathPt(),n=e.openId||s.getOpenId();if(n){var t={tid:e.tid,openId:n,signature:e.signature};s.request(a.getResUrl()+"/zs/customer/queryCustLoanDetail/V2_0",t,function(e){if(1==e.respCode){var n="待业务接洽"==e.respData.orderState?"":'<span class="record f-14" id="record">审批记录</span>';if(s.slt("#header").innerHTML='<i class="icon iconfont">&#xe604;</i><p class="f-14">'+(e.respData.orderState||"目前没有状态")+"</p>"+n,s.slt("#user_info").innerHTML='<div class="list-head">意向信息</div><li>申请时间<span class="fr">'+(e.respData.createDateStr||"-")+'</span></li><li>姓名<span class="fr">'+(e.respData.name||"-")+'</span></li><li>手机号<span class="fr">'+(e.respData.cellphone||"-")+"</span></li>",e.respData.vmodel?s.slt("#car_info").innerHTML='<li>车辆名称<span class="fr">'+(e.respData.vmodel||"-")+'</span></li><li>首次上牌时间<span class="fr">'+(e.respData.firstcardDate||"-")+'</span></li><li>行驶里程(万公里)<span class="fr">'+(e.respData.mileage||"-")+'万公里</span></li><li>意向贷款金额(元)<span class="fr">'+(e.respData.loanPriceStr||"-")+'</span></li><li>意向贷款期限(期)<span class="fr">'+(e.respData.loanLimit||"-")+"</span></li>":s.slt("#car_info").outerHTML="",s.slt("#business_info").innerHTML='<div class="list-head">业务信息</div><li>订单流水号<span class="fr">'+(e.respData.orderNo||"-")+'</span></li><li>业务员<span class="fr">'+(e.respData.apply||"-")+(e.respData.applyPhone?"("+e.respData.applyPhone+")":"")+'</span></li><li>实际放款金额(元)<span class="fr">'+(e.respData.actLoanAmountStr||"-")+'</span></li><li>贷款期数(期)<span class="fr">'+(e.respData.actLoanLimit||"-")+'</span></li><li>执行利率(%)<span class="fr">'+(e.respData.actRate||"-")+'</span></li><li>还款计划<span class="fr f-grey" id="toView">'+(e.respData.repaymentPlanList&&e.respData.repaymentPlanList.length>0?"查看":"暂未生成")+'<i class="icon iconfont">&#xe676;</i></span></li>',e.respData.ydqCustRecords instanceof Array){var t=s.slt("#recordLayer");e.respData.ydqCustRecords.forEach(function(e,n){var t=document.createElement("li");t.innerHTML='<i class="point"></i>'+(e.orderState||"")+'<span class="fr f-grey">'+(e.recordDate||"")+"</span>",s.slt("#examines_progress").appendChild(t)}),"待业务接洽"!=e.respData.orderState&&(s.slt("#record").onclick=function(){e.respData.ydqCustRecords.length>0?t.classList.contains("hidden")?(t.classList.remove("hidden"),t.classList.add("block")):t.classList.add("block"):s.tost("暂时没有审批记录","3000")},s.slt("#close_recordLayer").onclick=function(){t.classList.contains("block")?(t.classList.remove("block"),t.classList.add("hidden")):t.classList.add("hidden")})}if(e.respData.repaymentPlanList instanceof Array){var a=s.slt("#backPlan");e.respData.repaymentPlanList.forEach(function(e,n){var t=document.createElement("li");t.innerHTML=(e.payDate||"")+'<span class="fr f-grey">'+(e.monthlyPay||"")+"元</span>",s.slt("#backPlan_content").appendChild(t)}),s.slt("#toView").onclick=function(){e.respData.repaymentPlanList.length>0?a.classList.contains("hidden")?(a.classList.remove("hidden"),a.classList.add("block")):a.classList.add("block"):s.tost("暂时没有还款计划","3000")},s.slt("#close_backPlan").onclick=function(){a.classList.contains("block")?(a.classList.remove("block"),a.classList.add("hidden")):a.classList.add("hidden")}}}else s.tost("接口请求失败,请稍后重试","30000")})}else s.tost("找不到openId","3000")}},function(e,n){e.exports={slt:function(e){return/^#(\w)+$/.test(e)?document.querySelector(e):document.querySelectorAll(e)},getOpenId:function(){return localStorage.getItem("openId")||!1},publicData:function(){return{signature:"1",openId:this.getOpenId()}},forLoadHref:function(e){var n="";if("string"==typeof e)return n;for(var t in e)n+=e[t]instanceof Array?t+"=["+e[t].join(",")+"]":t+"="+e[t]+"&";return n},getPathPt:function(){var e=-1!=location.href.indexOf("openId")?"":"&openId="+this.getOpenId(),n="",t="";if(-1!=(n=-1!=location.href.indexOf("?")?location.href+"&signature=1"+e:location.href+"?signature=1"+e).indexOf("?")){var s="";n.split("?")[1].split("&").forEach(function(e,n){var t=e.split("=")[0],a=e.split("=")[1];s+='"'+t+'":"'+a+'",'}),s=s.slice(0,s.length-1),s="{"+s+"}",t=JSON.parse(s)}return t.openId&&localStorage.getItem("openId")!=t.openId&&localStorage.setItem("openId",t.openId),console.log("地址栏参数:"),console.log(t),t},createDefault:function(e,n,t,s,a,i){var o;o=i?'<div class="default-msg"><i class="half"></i><div class="default-box"><i class="iconfont f-theme">'+(i||" ")+'</i><p class="f-666">'+t+'</p><p class="f-blue" id="'+(s||" ")+'">'+(a||" ")+'<i class="icon iconfont f-15">&#xe676;</i></p></div></div>':s?'<div class="default-msg"><i class="half"></i><div class="default-box"><img src="'+n+'" /><p class="f-666">'+t+'</p><p class="f-blue" id="'+(s||" ")+'">'+(a||" ")+'<i class="icon iconfont f-15">&#xe676;</i></p></div></div>':'<div class="default-msg"><i class="half"></i><div class="default-box"><img src="'+n+'" /><p class="fcA3">'+t+"</p></div></div>",e.innerHTML=o},createDefaultBtn:function(e,n,t,s,a,i,o){var r;r=o?'<div class="default-msg"><i class="half"></i><div class="default-box"><i class="iconfont f-theme">'+(o||" ")+'</i><p class="f-theme">'+t+'</p><p class="f-666 mt10">'+s+'</p><p class="f-blue-btn" id="'+(a||" ")+'">'+(i||" ")+"</p></div></div>":a?'<div class="default-msg blue-btn"><i class="half"></i><div class="default-box"><img src="'+n+'" /><p class="f-theme">'+t+'</p><p class="f-666 mt10">'+s+'</p><p class="f-blue-btn" id="'+(a||" ")+'">'+(i||" ")+"</p></div></div>":'<div class="default-msg"><i class="half"></i><div class="default-box"><img src="'+n+'" /><p class="f-666">'+t+"</p></div></div>",e.innerHTML=r},request:function(e,n,t,s,a,i){var o={type:"POST",url:e||"",async:"true",data:n||null},r=new XMLHttpRequest;a&&(r.responseType=o.dataType),r.open(o.type,o.url,o.async),r.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),r.send(function(e){if("object"===(void 0===e?"undefined":_typeof(e))){var n="";for(var t in e)n+=t+"="+e[t]+"&";return n=n.substring(0,n.length-1)}return e}(o.data)),console.log("接口需求参数:"),console.log(o.data),r.onreadystatechange=function(){4==r.readyState&&(200==r.status?(t("string"==typeof r.response?JSON.parse(r.response):r.response),console.log("接口返回参数:"),console.log(r.response)):s())}},requestFile:function(e,n,t,s,a,i){var o=new XMLHttpRequest;a&&(o.responseType=dataType),o.open("POST",e,"true"),i&&o.setRequestHeader("Content-Type",i),o.send(n),console.log("接口需求参数:"),console.log(n),o.onreadystatechange=function(){4==o.readyState&&(200==o.status?(t("string"==typeof o.response?JSON.parse(o.response):o.response),console.log("接口返回参数:"),console.log(o.response)):s())}},loadingDone:function(){document.getElementById("loader_box")&&(document.getElementById("loader_box").outerHTML=" ")},hideShow:function(e){(e=e||document.body).classList.remove("transition-hide"),e.classList.add("transition-show")},winload:function(){!function(){function e(){WeixinJSBridge.invoke("setFontSizeCallback",{fontSize:0}),WeixinJSBridge.on("menu:setfont",function(){WeixinJSBridge.invoke("setFontSizeCallback",{fontSize:0})})}"object"==("undefined"==typeof WeixinJSBridge?"undefined":_typeof(WeixinJSBridge))&&"function"==typeof WeixinJSBridge.invoke?e():document.addEventListener?document.addEventListener("WeixinJSBridgeReady",e,!1):document.attachEvent&&(document.attachEvent("WeixinJSBridgeReady",e),document.attachEvent("onWeixinJSBridgeReady",e))}(),function(){for(var e=document.getElementsByClassName("layer"),n=0,t=e.length;n<t;n++)e[n].addEventListener("touchmove",function(e){e.stopPropagation()})}()}(),is_weixin:function(){var e=navigator.userAgent.toLowerCase();return console.log(e),"micromessenger"==e.match(/MicroMessenger/i)},tost:function(e,n){var t=document.getElementById("tost_"),s=document.getElementById("tost_").firstElementChild,a=document.createElement("span");a.innerHTML=e,t.appendChild(a),s?(t.removeChild(s),t.appendChild(a),t.classList.remove("mui-hidden"),t.classList.add("mui-block"),setTimeout(function(){t.classList.add("mui-hidden"),t.classList.remove("mui-block")},n)):(t.classList.remove("mui-hidden"),t.classList.add("mui-block"),setTimeout(function(){t.classList.add("mui-hidden"),t.classList.remove("mui-block")},n))},share:function(){var e=location.href.split("#")[0],n={url:encodeURIComponent(e)};this.request("https://loan.moneytocar.com/yuedianqian-wap/getJsSdkconfig",n,function(e){wx.config({debug:!1,appId:e.respMap.appId,timestamp:e.respMap.timestamp,nonceStr:e.respMap.noncestr,signature:e.respMap.signature,jsApiList:["checkJsApi","onMenuShareTimeline","onMenuShareAppMessage","hideMenuItems"]})},function(){}),wx.ready(function(){wx.hideMenuItems({menuList:["menuItem:share:qq","menuItem:share:weiboApp","menuItem:favorite","menuItem:share:facebook","menuItem:share:QZone"],success:function(e){}}),wx.onMenuShareTimeline({title:"曰点钱——更值得信赖的车辆抵押贷款",link:location.origin+"/yuedianqian/html/borrowingDemand.html",imgUrl:location.origin+"/yuedianqian/img/logo.png",success:function(){},cancel:function(){}}),wx.onMenuShareAppMessage({title:"曰点钱——更值得信赖的车辆抵押贷款",desc:"你的车比你想象的更值钱",link:location.origin+"/yuedianqian/html/borrowingDemand.html",imgUrl:location.origin+"/yuedianqian/img/logo.png",type:"link"}),wx.error(function(e){})})}}},function(e,n){e.exports={path:"http://192.168.1.96:3000"}}]);