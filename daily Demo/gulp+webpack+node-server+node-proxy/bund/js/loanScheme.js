"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e){function t(o){if(n[o])return n[o].exports;var a=n[o]={exports:{},id:o,loaded:!1};return e[o].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}var n={};t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){function o(){}var a=n(1),i=n(2),s=JSON.parse(sessionStorage.getItem("carInfo")),l={name:"",cellphone:"",openId:a.getOpenId(),province:"湖南",provinceId:"19",city:s.selectCity,cityId:s.selectCityId,provinceCar:"湖南",provinceIdCar:"19",cityCar:s.selectCity,cityIdCar:s.selectCityId,brandId:s.brandId,brandName:s.brand,seriesId:s.seriesId,seriesName:s.series,modelId:s.modelId,modelName:s.model,regDate:s.regDate,mileage:s.mileage,loanLimit:12,loanPrice:"",evalPrice:"",monthlyPay:"",sumAmount:"",signature:"1"};$(function(){$(".data-city").html(s.selectCity),$(".content").height($("body").height()-$(".btnBox ").outerHeight(!0)),$(".tab-content").height($(".content").height()-($(".group ").outerHeight(!0)+$(".tab-list").outerHeight(!0))),a.share(),function(){$(".data-brand").html(s.brand),$(".data-model").html(s.model),$(".data-date").html(s.dateStr),$(".data-mile").html(s.mileage+"万公里");var e={modelId:s.modelId,regDate:s.regDate,mileage:s.mileage,cityId:s.selectCityId,deviceType:"wx",signature:"1",edition:"v1.0",openId:a.getOpenId()};a.request(i.getResUrl()+"/zs/ydqLoanAmount/queryChe300PgPrice/v1_0",e,function(e){e.respData&&(e=e.respData,$(".goodPrice").html(e.goodPrice+"万元"),$(".highPrice").html(e.highPrice+"万元"),$(".lowPrice").html(e.lowPrice+"万元"))},o)}(),$(".tabli").click(function(){$(".tabli,.tab").removeClass("active"),$(this).addClass("active");var e=$(".tabli").index($(this));$(".tab").eq(e).addClass("active")}),$(".instalPlan .iconfont").click(function(){$(this).closest(".tab").find(".instalPlan .iconfont").removeClass("f-theme").html("&#xe6e1;"),$(this).addClass("f-theme").html("&#xe6df;"),l.loanLimit=$(this).attr("plan")}),$(".data-money").keyup(function(){this.value=this.value.replace(/[^\d.]/g,""),this.value=this.value.replace(/^\./g,""),this.value=this.value.replace(/\.{2,}/g,"."),this.value=this.value.replace(".","$#$").replace(/\./g,"").replace("$#$","."),this.value=this.value.replace(/^(\-)*(\d+)\.(\d).*$/,"$1$2.$3");var e=parseInt(this.value);isNaN(e)?(a.tost("请输入数字",1e3),this.value=""):function(e){var e=1e4*e,t=$(".tab.active"),n=e+e/100*5.22,o=e+e/100*10.43,a=e+e/100*15.64;t.find(".firstPlan .data-sum span").html(n),t.find(".firstPlan .data-monthPay").html(parseFloat(n/12).toFixed(2)+"元"),t.find(".secPlan .data-sum span").html(o),t.find(".secPlan .data-monthPay").html(parseFloat(o/24).toFixed(2)+"元"),t.find(".thirPlan .data-sum span").html(a),t.find(".thirPlan .data-monthPay").html(parseFloat(a/36).toFixed(2)+"元")}(this.value),""!=this.value&&null!=this.value||($(".tab.active").find(".data-monthPay").html("--"),$(".tab.active").find(".data-sum span").html("--"))});var e=function(e){e.preventDefault()};$("#btn").click(function(){var t=$(".tab.active .data-evaluPrice").html();t=parseFloat(t),l.loanPrice=$(".tab.active").find(".data-money").val(),l.evalPrice=t,l.monthlyPay=parseFloat($(".tab.active").find(".iconfont.f-theme").prev().find(".data-monthPay").html()),l.sumAmount=$(".tab.active").find(".iconfont.f-theme").prev().find(".data-sum span").html(),isNaN(parseInt(l.loanPrice))?(a.tost("请输入数字",1e3),$(".data-money").val("")):l.loanPrice>t?a.tost("想借金额不可大于评估价",1e3):""!=l.loanPrice&&"undefind"!=l.loanPrice&&null!=l.loanPrice?($(".personalInfor,.layer").css("display","block"),document.body.style.overflow="hidden",document.addEventListener("touchmove",e,!1)):a.tost("请填写想借金额",1e3)}),$("#btn").on("touchmove",function(e){e.stopPropagation(),e.preventDefault()}),$(".layer").click(function(){$(".personalInfor,.layer").css("display","none"),document.body.style.overflow="",document.removeEventListener("touchmove",e,!1)}),$(".personalInfor .btn").click(function(){var e=$(".data-phoneNum").val();e?e.match(/^(((13[0-9]{1})|(15[0-9]{1})|(18[0-9]{1})|(14[0-9]{1})|(17[0-9]{1}))+\d{8})$/)?(l.name=$(".data-name").val(),l.cellphone=e,a.request(i.getResUrl()+"/zs/customer/addCustomerAll/V1_0",l,function(e){var t=e.respCode,n=e.respMsg;1==t?(a.createDefaultBtn(document.getElementById("body"),"../img/2.0/3.png","您的借款申请提交成功！","您的融资顾问将尽快与您联系，请保持手机通畅。","goToBtn","好的","&#xe6df;"),$("#goToBtn").click(function(){wx.closeWindow()}),sessionStorage.removeItem("carInfo")):0==t&&"repet"==n?(a.createDefaultBtn(document.getElementById("body"),"../img/apply_succeed.png","我们已收到您的申请。",'系统已收到您3天内的多次申请，我们将优先为您安排融资顾问。请勿重复提交，谢谢。如您需求紧急,建议直接致电 <a tel="400-901-9688" class="f-theme">400-901-9688</a>咨询。',"goToBtn","好的"),$("#goToBtn").click(function(){wx.closeWindow()})):(a.createDefault(document.getElementById("body"),"../img/no_Internet_concatenon.png","系统开小差啦，请重试一下","goToBtn","重新提交"),$("#goToBtn").click(function(){window.location.href=window.location.href}))},o),console.log(l)):a.tost("请输入正确的手机号",1e3):a.tost("请输入手机号",1e3)})})},function(e,t){e.exports={slt:function(e){return/^#(\w)+$/.test(e)?document.querySelector(e):document.querySelectorAll(e)},getOpenId:function(){return localStorage.getItem("openId")||!1},publicData:function(){return{signature:"1",openId:this.getOpenId()}},forLoadHref:function(e){var t="";if("string"==typeof e)return t;for(var n in e)t+=e[n]instanceof Array?n+"=["+e[n].join(",")+"]":n+"="+e[n]+"&";return t},getPathPt:function(){var e=-1!=location.href.indexOf("openId")?"":"&openId="+this.getOpenId(),t="",n="";if(-1!=(t=-1!=location.href.indexOf("?")?location.href+"&signature=1"+e:location.href+"?signature=1"+e).indexOf("?")){var o="";t.split("?")[1].split("&").forEach(function(e,t){var n=e.split("=")[0],a=e.split("=")[1];o+='"'+n+'":"'+a+'",'}),o=o.slice(0,o.length-1),o="{"+o+"}",n=JSON.parse(o)}return n.openId&&localStorage.getItem("openId")!=n.openId&&localStorage.setItem("openId",n.openId),console.log("地址栏参数:"),console.log(n),n},createDefault:function(e,t,n,o,a,i){var s;s=i?'<div class="default-msg"><i class="half"></i><div class="default-box"><i class="iconfont f-theme">'+(i||" ")+'</i><p class="f-666">'+n+'</p><p class="f-blue" id="'+(o||" ")+'">'+(a||" ")+'<i class="icon iconfont f-15">&#xe676;</i></p></div></div>':o?'<div class="default-msg"><i class="half"></i><div class="default-box"><img src="'+t+'" /><p class="f-666">'+n+'</p><p class="f-blue" id="'+(o||" ")+'">'+(a||" ")+'<i class="icon iconfont f-15">&#xe676;</i></p></div></div>':'<div class="default-msg"><i class="half"></i><div class="default-box"><img src="'+t+'" /><p class="fcA3">'+n+"</p></div></div>",e.innerHTML=s},createDefaultBtn:function(e,t,n,o,a,i,s){var l;l=s?'<div class="default-msg"><i class="half"></i><div class="default-box"><i class="iconfont f-theme">'+(s||" ")+'</i><p class="f-theme">'+n+'</p><p class="f-666 mt10">'+o+'</p><p class="f-blue-btn" id="'+(a||" ")+'">'+(i||" ")+"</p></div></div>":a?'<div class="default-msg blue-btn"><i class="half"></i><div class="default-box"><img src="'+t+'" /><p class="f-theme">'+n+'</p><p class="f-666 mt10">'+o+'</p><p class="f-blue-btn" id="'+(a||" ")+'">'+(i||" ")+"</p></div></div>":'<div class="default-msg"><i class="half"></i><div class="default-box"><img src="'+t+'" /><p class="f-666">'+n+"</p></div></div>",e.innerHTML=l},request:function(e,t,n,o,a,i){var s={type:"POST",url:e||"",async:"true",data:t||null},l=new XMLHttpRequest;a&&(l.responseType=s.dataType),l.open(s.type,s.url,s.async),l.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),l.send(function(e){if("object"===(void 0===e?"undefined":_typeof(e))){var t="";for(var n in e)t+=n+"="+e[n]+"&";return t=t.substring(0,t.length-1)}return e}(s.data)),console.log("接口需求参数:"),console.log(s.data),l.onreadystatechange=function(){4==l.readyState&&(200==l.status?(n("string"==typeof l.response?JSON.parse(l.response):l.response),console.log("接口返回参数:"),console.log(l.response)):o())}},requestFile:function(e,t,n,o,a,i){var s=new XMLHttpRequest;a&&(s.responseType=dataType),s.open("POST",e,"true"),i&&s.setRequestHeader("Content-Type",i),s.send(t),console.log("接口需求参数:"),console.log(t),s.onreadystatechange=function(){4==s.readyState&&(200==s.status?(n("string"==typeof s.response?JSON.parse(s.response):s.response),console.log("接口返回参数:"),console.log(s.response)):o())}},loadingDone:function(){document.getElementById("loader_box")&&(document.getElementById("loader_box").outerHTML=" ")},hideShow:function(e){(e=e||document.body).classList.remove("transition-hide"),e.classList.add("transition-show")},winload:function(){!function(){function e(){WeixinJSBridge.invoke("setFontSizeCallback",{fontSize:0}),WeixinJSBridge.on("menu:setfont",function(){WeixinJSBridge.invoke("setFontSizeCallback",{fontSize:0})})}"object"==("undefined"==typeof WeixinJSBridge?"undefined":_typeof(WeixinJSBridge))&&"function"==typeof WeixinJSBridge.invoke?e():document.addEventListener?document.addEventListener("WeixinJSBridgeReady",e,!1):document.attachEvent&&(document.attachEvent("WeixinJSBridgeReady",e),document.attachEvent("onWeixinJSBridgeReady",e))}(),function(){for(var e=document.getElementsByClassName("layer"),t=0,n=e.length;t<n;t++)e[t].addEventListener("touchmove",function(e){e.stopPropagation()})}()}(),is_weixin:function(){var e=navigator.userAgent.toLowerCase();return console.log(e),"micromessenger"==e.match(/MicroMessenger/i)},tost:function(e,t){var n=document.getElementById("tost_"),o=document.getElementById("tost_").firstElementChild,a=document.createElement("span");a.innerHTML=e,n.appendChild(a),o?(n.removeChild(o),n.appendChild(a),n.classList.remove("mui-hidden"),n.classList.add("mui-block"),setTimeout(function(){n.classList.add("mui-hidden"),n.classList.remove("mui-block")},t)):(n.classList.remove("mui-hidden"),n.classList.add("mui-block"),setTimeout(function(){n.classList.add("mui-hidden"),n.classList.remove("mui-block")},t))},share:function(){var e=location.href.split("#")[0],t={url:encodeURIComponent(e)};this.request("https://loan.moneytocar.com/yuedianqian-wap/getJsSdkconfig",t,function(e){wx.config({debug:!1,appId:e.respMap.appId,timestamp:e.respMap.timestamp,nonceStr:e.respMap.noncestr,signature:e.respMap.signature,jsApiList:["checkJsApi","onMenuShareTimeline","onMenuShareAppMessage","hideMenuItems"]})},function(){}),wx.ready(function(){wx.hideMenuItems({menuList:["menuItem:share:qq","menuItem:share:weiboApp","menuItem:favorite","menuItem:share:facebook","menuItem:share:QZone"],success:function(e){}}),wx.onMenuShareTimeline({title:"曰点钱——更值得信赖的车辆抵押贷款",link:location.origin+"/yuedianqian/html/borrowingDemand.html",imgUrl:location.origin+"/yuedianqian/img/logo.png",success:function(){},cancel:function(){}}),wx.onMenuShareAppMessage({title:"曰点钱——更值得信赖的车辆抵押贷款",desc:"你的车比你想象的更值钱",link:location.origin+"/yuedianqian/html/borrowingDemand.html",imgUrl:location.origin+"/yuedianqian/img/logo.png",type:"link"}),wx.error(function(e){})})}}},function(e,t){e.exports={path:"http://192.168.1.96:3000"}}]);