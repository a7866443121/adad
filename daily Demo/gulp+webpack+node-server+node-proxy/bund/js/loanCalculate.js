"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e){function t(i){if(n[i])return n[i].exports;var o=n[i]={exports:{},id:i,loaded:!1};return e[i].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){var i=n(1),o=(n(2),JSON.parse(sessionStorage.getItem("carInfo"))),a=i.getPathPt();$(function(){if(i.share(),"undefined"!=decodeURI(a.selectCity)&&(document.getElementById("data-city").innerHTML=decodeURI(a.selectCity)),o){$("#chooseCar .data-carinfo").html(decodeURIComponent(o.model));n(3);parseInt($(".data-carinfo").css("width"))>"250"&&$(".data-carinfo").css("width","40%")}var e=function(e){e.preventDefault()};$("#item-time .iconfont.alert").click(function(){$(".eq,.layer").fadeIn(),document.body.style.overflow="hidden",document.addEventListener("touchmove",e,!1)}),$(".layer,.i-konw").click(function(){$(".eq,.layer").fadeOut(),document.body.style.overflow="",document.removeEventListener("touchmove",e,!1)}),$(".data-mile").keyup(function(){this.value=this.value.replace(/[^\d.]/g,""),this.value=this.value.replace(/^\./g,""),this.value=this.value.replace(/\.{2,}/g,"."),this.value=this.value.replace(".","$#$").replace(/\./g,"").replace("$#$","."),this.value=this.value.replace(/^(\-)*(\d+)\.(\d\d).*$/,"$1$2.$3"),isNaN(parseInt(this.value))?(i.tost("请输入数字",1e3),this.value=""):this.value>=99.99&&$(this).val(99.99)}),$("#chooseCar").click(function(){location.href="carChose.html"}),$(".data-time").click(function(){"请选择"==$(".data-carinfo").html()&&i.tost("请选择车辆",1e3)}),$("#chooseCity").click(function(){location.href="cityChose.html?scource=calcu"}),$(".plan").click(function(){!function(){var e=parseInt($(".data-mile").val());"请选择"==$(".data-carinfo").html()||"请输入"==$(".data-mile").val()||"请选择"==$(".data-time").html()?i.tost("请输入所有信息",1e3):isNaN(e)?i.tost("公里数请输入数字",1e3):(o.dateStr=$(".data-time").html(),o.regDate=$(".data-time").attr("getcarddate"),o.mileage=$(".data-mile").val(),o.selectCity=$("#data-city").html(),o.selectCityId=a.selectCityId||"184",sessionStorage.setItem("carInfo",JSON.stringify(o)),location.href="loanScheme.html?")}()})})},function(e,t){e.exports={slt:function(e){return/^#(\w)+$/.test(e)?document.querySelector(e):document.querySelectorAll(e)},getOpenId:function(){return localStorage.getItem("openId")||!1},publicData:function(){return{signature:"1",openId:this.getOpenId()}},forLoadHref:function(e){var t="";if("string"==typeof e)return t;for(var n in e)t+=e[n]instanceof Array?n+"=["+e[n].join(",")+"]":n+"="+e[n]+"&";return t},getPathPt:function(){var e=-1!=location.href.indexOf("openId")?"":"&openId="+this.getOpenId(),t="",n="";if(-1!=(t=-1!=location.href.indexOf("?")?location.href+"&signature=1"+e:location.href+"?signature=1"+e).indexOf("?")){var i="";t.split("?")[1].split("&").forEach(function(e,t){var n=e.split("=")[0],o=e.split("=")[1];i+='"'+n+'":"'+o+'",'}),i=i.slice(0,i.length-1),i="{"+i+"}",n=JSON.parse(i)}return n.openId&&localStorage.getItem("openId")!=n.openId&&localStorage.setItem("openId",n.openId),console.log("地址栏参数:"),console.log(n),n},createDefault:function(e,t,n,i,o,a){var s;s=a?'<div class="default-msg"><i class="half"></i><div class="default-box"><i class="iconfont f-theme">'+(a||" ")+'</i><p class="f-666">'+n+'</p><p class="f-blue" id="'+(i||" ")+'">'+(o||" ")+'<i class="icon iconfont f-15">&#xe676;</i></p></div></div>':i?'<div class="default-msg"><i class="half"></i><div class="default-box"><img src="'+t+'" /><p class="f-666">'+n+'</p><p class="f-blue" id="'+(i||" ")+'">'+(o||" ")+'<i class="icon iconfont f-15">&#xe676;</i></p></div></div>':'<div class="default-msg"><i class="half"></i><div class="default-box"><img src="'+t+'" /><p class="fcA3">'+n+"</p></div></div>",e.innerHTML=s},createDefaultBtn:function(e,t,n,i,o,a,s){var c;c=s?'<div class="default-msg"><i class="half"></i><div class="default-box"><i class="iconfont f-theme">'+(s||" ")+'</i><p class="f-theme">'+n+'</p><p class="f-666 mt10">'+i+'</p><p class="f-blue-btn" id="'+(o||" ")+'">'+(a||" ")+"</p></div></div>":o?'<div class="default-msg blue-btn"><i class="half"></i><div class="default-box"><img src="'+t+'" /><p class="f-theme">'+n+'</p><p class="f-666 mt10">'+i+'</p><p class="f-blue-btn" id="'+(o||" ")+'">'+(a||" ")+"</p></div></div>":'<div class="default-msg"><i class="half"></i><div class="default-box"><img src="'+t+'" /><p class="f-666">'+n+"</p></div></div>",e.innerHTML=c},request:function(e,t,n,i,o,a){var s={type:"POST",url:e||"",async:"true",data:t||null},c=new XMLHttpRequest;o&&(c.responseType=s.dataType),c.open(s.type,s.url,s.async),c.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),c.send(function(e){if("object"===(void 0===e?"undefined":_typeof(e))){var t="";for(var n in e)t+=n+"="+e[n]+"&";return t=t.substring(0,t.length-1)}return e}(s.data)),console.log("接口需求参数:"),console.log(s.data),c.onreadystatechange=function(){4==c.readyState&&(200==c.status?(n("string"==typeof c.response?JSON.parse(c.response):c.response),console.log("接口返回参数:"),console.log(c.response)):i())}},requestFile:function(e,t,n,i,o,a){var s=new XMLHttpRequest;o&&(s.responseType=dataType),s.open("POST",e,"true"),a&&s.setRequestHeader("Content-Type",a),s.send(t),console.log("接口需求参数:"),console.log(t),s.onreadystatechange=function(){4==s.readyState&&(200==s.status?(n("string"==typeof s.response?JSON.parse(s.response):s.response),console.log("接口返回参数:"),console.log(s.response)):i())}},loadingDone:function(){document.getElementById("loader_box")&&(document.getElementById("loader_box").outerHTML=" ")},hideShow:function(e){(e=e||document.body).classList.remove("transition-hide"),e.classList.add("transition-show")},winload:function(){!function(){function e(){WeixinJSBridge.invoke("setFontSizeCallback",{fontSize:0}),WeixinJSBridge.on("menu:setfont",function(){WeixinJSBridge.invoke("setFontSizeCallback",{fontSize:0})})}"object"==("undefined"==typeof WeixinJSBridge?"undefined":_typeof(WeixinJSBridge))&&"function"==typeof WeixinJSBridge.invoke?e():document.addEventListener?document.addEventListener("WeixinJSBridgeReady",e,!1):document.attachEvent&&(document.attachEvent("WeixinJSBridgeReady",e),document.attachEvent("onWeixinJSBridgeReady",e))}(),function(){for(var e=document.getElementsByClassName("layer"),t=0,n=e.length;t<n;t++)e[t].addEventListener("touchmove",function(e){e.stopPropagation()})}()}(),is_weixin:function(){var e=navigator.userAgent.toLowerCase();return console.log(e),"micromessenger"==e.match(/MicroMessenger/i)},tost:function(e,t){var n=document.getElementById("tost_"),i=document.getElementById("tost_").firstElementChild,o=document.createElement("span");o.innerHTML=e,n.appendChild(o),i?(n.removeChild(i),n.appendChild(o),n.classList.remove("mui-hidden"),n.classList.add("mui-block"),setTimeout(function(){n.classList.add("mui-hidden"),n.classList.remove("mui-block")},t)):(n.classList.remove("mui-hidden"),n.classList.add("mui-block"),setTimeout(function(){n.classList.add("mui-hidden"),n.classList.remove("mui-block")},t))},share:function(){var e=location.href.split("#")[0],t={url:encodeURIComponent(e)};this.request("https://loan.moneytocar.com/yuedianqian-wap/getJsSdkconfig",t,function(e){wx.config({debug:!1,appId:e.respMap.appId,timestamp:e.respMap.timestamp,nonceStr:e.respMap.noncestr,signature:e.respMap.signature,jsApiList:["checkJsApi","onMenuShareTimeline","onMenuShareAppMessage","hideMenuItems"]})},function(){}),wx.ready(function(){wx.hideMenuItems({menuList:["menuItem:share:qq","menuItem:share:weiboApp","menuItem:favorite","menuItem:share:facebook","menuItem:share:QZone"],success:function(e){}}),wx.onMenuShareTimeline({title:"曰点钱——更值得信赖的车辆抵押贷款",link:location.origin+"/yuedianqian/html/borrowingDemand.html",imgUrl:location.origin+"/yuedianqian/img/logo.png",success:function(){},cancel:function(){}}),wx.onMenuShareAppMessage({title:"曰点钱——更值得信赖的车辆抵押贷款",desc:"你的车比你想象的更值钱",link:location.origin+"/yuedianqian/html/borrowingDemand.html",imgUrl:location.origin+"/yuedianqian/img/logo.png",type:"link"}),wx.error(function(e){})})}}},function(e,t){e.exports={path:"http://192.168.1.96:3000"}},function(e,t){var n=[],i=new Date,o=[{text:"1月",value:"1"},{text:"2月",value:"2"},{text:"3月",value:"3"},{text:"4月",value:"4"},{text:"5月",value:"5"},{text:"6月",value:"6"},{text:"7月",value:"7"},{text:"8月",value:"8"},{text:"9月",value:"9"},{text:"10月",value:"10"},{text:"11月",value:"11"},{text:"12月",value:"12"}],a=JSON.parse(sessionStorage.getItem("carInfo"));$(document).ready(function(){var e,t=e=a?a.year:2007;n=[];for(var s=i.getFullYear()-e;s>=0;s--)n[s]={},n[s].text=t+"年",n[s].value=s,t++;$("#picker").click(function(){$(".picker").fadeIn()}),$("body").on("click",".picker .cancel,.picker .confirm ",function(){$(".picker").fadeOut()});var c=document.getElementById("picker"),l=(document.getElementById("item-time"),new Picker({data:[n,o]}));l.on("picker.select",function(e,t){c.innerText=n[t[0]].text+o[t[1]].text;var i;i=o[t[1]].text.length<=2?parseInt(n[t[0]].text)+"-0"+parseInt(o[t[1]].text):parseInt(n[t[0]].text)+"-"+parseInt(o[t[1]].text),console.log(i),c.setAttribute("getCardDate",i)}),c.addEventListener("click",function(){l.show(function(){l.refill([n,o])})},!1)})}]);