"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e){function n(o){if(t[o])return t[o].exports;var i=t[o]={exports:{},id:o,loaded:!1};return e[o].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}var t={};n.m=e,n.c=t,n.p="",n(0)}([function(e,n,t){function o(){var e=$(".data-name").val(),n=$(".data-phoneNum").val();friendInfo={name:e,phoneNum:n},sessionStorage.setItem("friendInfo",JSON.stringify(friendInfo)),location.href="carChose.html"}function i(){""!=$(".data-name").val()&&"请选择"!=$(".data-carinfo").html()&&""!=$(".data-phoneNum").val()?($(".sure-btn").addClass("bg-theme"),$(".sure-btn").removeClass("bg-grey")):($(".sure-btn").removeClass("bg-theme"),$(".sure-btn").addClass("bg-grey"))}function a(e){return""!=e&&null!=e}var s,r=t(1),c=t(2);window.addEventListener("DOMContentLoaded",function(){r.getPathPt(),r.share(),$("#carinfo").on("click",o);var e=sessionStorage.getItem("friendInfo");s=sessionStorage.getItem("carInfo"),e&&(a((e=JSON.parse(e)).name)&&$(".data-name").val(e.name),a(e.phoneNum)&&$(".data-phoneNum").val(e.phoneNum)),s&&(s=JSON.parse(s),$(".data-carinfo").html(a(s.model)?decodeURIComponent(s.model):"请选择"),parseInt($(".data-carinfo").css("width"))>"250"&&$(".data-carinfo").css("width","40%")),i(),$(".btn").bind("click",function(){$(".sure-btn").hasClass("bg-theme")&&function(){var e,n=$(".data-phoneNum").val(),t=$(".data-name").val(),o=$(".data-carinfo").html();a(t)?a(n)?n.match(/^(((13[0-9]{1})|(15[0-9]{1})|(18[0-9]{1})|(14[0-9]{1})|(17[0-9]{1}))+\d{8})$/)?"请选择"==o?r.tost("请选择车辆",1e3):(e={name:t,cellphone:n,openId:r.getOpenId(),province:"湖南",provinceId:"19",city:"长沙",cityId:"19",provinceCar:"湖南",provinceIdCar:"19",cityCar:"长沙",cityIdCar:"19",brandId:s.brandId,brandName:s.brand,seriesId:s.seriesId,seriesName:s.series,modelId:s.modelId,modelName:s.model,signature:"1"},r.request(c.getResUrl()+"/zs/customer/addCommendCustInfo/V2_0",e,function(e){var n=e.respCode,t=e.respMsg;console.log(n+"------"+t),1==n?(sessionStorage.removeItem("friendInfo"),sessionStorage.removeItem("carInfo"),$("title").html("推荐成功"),r.createDefaultBtn(document.getElementById("body"),"../img/2.0/3.png","推荐信息提交成功。","被推荐人的贷款申请成功放款后，您即可获得本次推荐佣金。","goToBtn","好的","&#xe6df;"),$("#goToBtn").click(function(){wx.closeWindow()})):($("title").html("推荐失败"),r.createDefaultBtn(document.getElementById("body"),"../img/2.0/3.png","推荐信息提交失败。",t,"goToBtn","好的","&#xe679;"),$("#goToBtn").click(function(){$("title").html("推荐客户"),window.location.href=window.location.href}))})):r.tost("请输入正确手机号",1e3):r.tost("请输入手机号",1e3):r.tost("请输入姓名",1e3)}()}),$(".data-phoneNum").keyup(function(){$(".data-phoneNum").val().match(/^[0-9]*[1-9][0-9]*$/)||r.tost("请输入数字",1e3)})}),$(".data-name,.data-phoneNum").keyup(function(){i()})},function(e,n){e.exports={slt:function(e){return/^#(\w)+$/.test(e)?document.querySelector(e):document.querySelectorAll(e)},getOpenId:function(){return localStorage.getItem("openId")||!1},publicData:function(){return{signature:"1",openId:this.getOpenId()}},forLoadHref:function(e){var n="";if("string"==typeof e)return n;for(var t in e)n+=e[t]instanceof Array?t+"=["+e[t].join(",")+"]":t+"="+e[t]+"&";return n},getPathPt:function(){var e=-1!=location.href.indexOf("openId")?"":"&openId="+this.getOpenId(),n="",t="";if(-1!=(n=-1!=location.href.indexOf("?")?location.href+"&signature=1"+e:location.href+"?signature=1"+e).indexOf("?")){var o="";n.split("?")[1].split("&").forEach(function(e,n){var t=e.split("=")[0],i=e.split("=")[1];o+='"'+t+'":"'+i+'",'}),o=o.slice(0,o.length-1),o="{"+o+"}",t=JSON.parse(o)}return t.openId&&localStorage.getItem("openId")!=t.openId&&localStorage.setItem("openId",t.openId),console.log("地址栏参数:"),console.log(t),t},createDefault:function(e,n,t,o,i,a){var s;s=a?'<div class="default-msg"><i class="half"></i><div class="default-box"><i class="iconfont f-theme">'+(a||" ")+'</i><p class="f-666">'+t+'</p><p class="f-blue" id="'+(o||" ")+'">'+(i||" ")+'<i class="icon iconfont f-15">&#xe676;</i></p></div></div>':o?'<div class="default-msg"><i class="half"></i><div class="default-box"><img src="'+n+'" /><p class="f-666">'+t+'</p><p class="f-blue" id="'+(o||" ")+'">'+(i||" ")+'<i class="icon iconfont f-15">&#xe676;</i></p></div></div>':'<div class="default-msg"><i class="half"></i><div class="default-box"><img src="'+n+'" /><p class="fcA3">'+t+"</p></div></div>",e.innerHTML=s},createDefaultBtn:function(e,n,t,o,i,a,s){var r;r=s?'<div class="default-msg"><i class="half"></i><div class="default-box"><i class="iconfont f-theme">'+(s||" ")+'</i><p class="f-theme">'+t+'</p><p class="f-666 mt10">'+o+'</p><p class="f-blue-btn" id="'+(i||" ")+'">'+(a||" ")+"</p></div></div>":i?'<div class="default-msg blue-btn"><i class="half"></i><div class="default-box"><img src="'+n+'" /><p class="f-theme">'+t+'</p><p class="f-666 mt10">'+o+'</p><p class="f-blue-btn" id="'+(i||" ")+'">'+(a||" ")+"</p></div></div>":'<div class="default-msg"><i class="half"></i><div class="default-box"><img src="'+n+'" /><p class="f-666">'+t+"</p></div></div>",e.innerHTML=r},request:function(e,n,t,o,i,a){var s={type:"POST",url:e||"",async:"true",data:n||null},r=new XMLHttpRequest;i&&(r.responseType=s.dataType),r.open(s.type,s.url,s.async),r.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),r.send(function(e){if("object"===(void 0===e?"undefined":_typeof(e))){var n="";for(var t in e)n+=t+"="+e[t]+"&";return n=n.substring(0,n.length-1)}return e}(s.data)),console.log("接口需求参数:"),console.log(s.data),r.onreadystatechange=function(){4==r.readyState&&(200==r.status?(t("string"==typeof r.response?JSON.parse(r.response):r.response),console.log("接口返回参数:"),console.log(r.response)):o())}},requestFile:function(e,n,t,o,i,a){var s=new XMLHttpRequest;i&&(s.responseType=dataType),s.open("POST",e,"true"),a&&s.setRequestHeader("Content-Type",a),s.send(n),console.log("接口需求参数:"),console.log(n),s.onreadystatechange=function(){4==s.readyState&&(200==s.status?(t("string"==typeof s.response?JSON.parse(s.response):s.response),console.log("接口返回参数:"),console.log(s.response)):o())}},loadingDone:function(){document.getElementById("loader_box")&&(document.getElementById("loader_box").outerHTML=" ")},hideShow:function(e){(e=e||document.body).classList.remove("transition-hide"),e.classList.add("transition-show")},winload:function(){!function(){function e(){WeixinJSBridge.invoke("setFontSizeCallback",{fontSize:0}),WeixinJSBridge.on("menu:setfont",function(){WeixinJSBridge.invoke("setFontSizeCallback",{fontSize:0})})}"object"==("undefined"==typeof WeixinJSBridge?"undefined":_typeof(WeixinJSBridge))&&"function"==typeof WeixinJSBridge.invoke?e():document.addEventListener?document.addEventListener("WeixinJSBridgeReady",e,!1):document.attachEvent&&(document.attachEvent("WeixinJSBridgeReady",e),document.attachEvent("onWeixinJSBridgeReady",e))}(),function(){for(var e=document.getElementsByClassName("layer"),n=0,t=e.length;n<t;n++)e[n].addEventListener("touchmove",function(e){e.stopPropagation()})}()}(),is_weixin:function(){var e=navigator.userAgent.toLowerCase();return console.log(e),"micromessenger"==e.match(/MicroMessenger/i)},tost:function(e,n){var t=document.getElementById("tost_"),o=document.getElementById("tost_").firstElementChild,i=document.createElement("span");i.innerHTML=e,t.appendChild(i),o?(t.removeChild(o),t.appendChild(i),t.classList.remove("mui-hidden"),t.classList.add("mui-block"),setTimeout(function(){t.classList.add("mui-hidden"),t.classList.remove("mui-block")},n)):(t.classList.remove("mui-hidden"),t.classList.add("mui-block"),setTimeout(function(){t.classList.add("mui-hidden"),t.classList.remove("mui-block")},n))},share:function(){var e=location.href.split("#")[0],n={url:encodeURIComponent(e)};this.request("https://loan.moneytocar.com/yuedianqian-wap/getJsSdkconfig",n,function(e){wx.config({debug:!1,appId:e.respMap.appId,timestamp:e.respMap.timestamp,nonceStr:e.respMap.noncestr,signature:e.respMap.signature,jsApiList:["checkJsApi","onMenuShareTimeline","onMenuShareAppMessage","hideMenuItems"]})},function(){}),wx.ready(function(){wx.hideMenuItems({menuList:["menuItem:share:qq","menuItem:share:weiboApp","menuItem:favorite","menuItem:share:facebook","menuItem:share:QZone"],success:function(e){}}),wx.onMenuShareTimeline({title:"曰点钱——更值得信赖的车辆抵押贷款",link:location.origin+"/yuedianqian/html/borrowingDemand.html",imgUrl:location.origin+"/yuedianqian/img/logo.png",success:function(){},cancel:function(){}}),wx.onMenuShareAppMessage({title:"曰点钱——更值得信赖的车辆抵押贷款",desc:"你的车比你想象的更值钱",link:location.origin+"/yuedianqian/html/borrowingDemand.html",imgUrl:location.origin+"/yuedianqian/img/logo.png",type:"link"}),wx.error(function(e){})})}}},function(e,n){e.exports={path:"http://192.168.1.96:3000"}}]);