<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>注册页面 </title>
		<link rel="stylesheet" href="../../css/common.css">
		<link rel="stylesheet" href="../../css/login.css">
		<link rel="stylesheet" href="../../font/iconfont.css" />
	</head>
	<body style="background: #f6f6f6">
		<div class="header">
			<div class="header-content">
				<img src="../../img/login/logo.png">
				<div class="telephone">0731-88036079</div>
			</div>
		</div>
		<div class="reg-main">
			<div class="reg-wrap">
				<form class="reg-form">
					<h3>机构注册</h3>
					<div class="row">
						<label class="row-label">机构名称：</label>
						<input type="text" placeholder="机构名称" datatype="*">
					</div>
					<div class="row">
						<label class="row-label">机构代码：</label>
						<input type="text" placeholder="机构代码" datatype="*">
					</div>
					<div class="row">
						<label class="row-label">用户名：</label>
						<input type="text" placeholder="用户名" datatype="*">
					</div>
					<div class="row">
						<label class="row-label">手机号：</label>
						<input type="text" placeholder="手机号" maxlength="11" datatype="*">
					</div>
					<div class="row">
						<label class="row-label">手机验证码：</label>
						<input type="text" placeholder="手机验证码" maxlength="8" datatype="*">
						<a href="javascript:;" class="get-pw">点击获取</a>
					</div>
					<div class="row">
						<label class="row-label">密码：</label>
						<input type="password" name="password" placeholder="密码" datatype="*6-18">
					</div>
					<div class="row">
						<label class="row-label">重复密码：</label>
						<input type="password" placeholder="重复密码" datatype="*6-18" recheck="password">
					</div>
					<div class="remenber">
						<label><input type="checkbox">我已阅读并接受<a href="###" class="cl-primary">服务条款</a></label>
					</div>
					<div class="row">
						<button>立即注册</button>
					</div>
				</form>
			</div>
		</div>
		<div class="footer">
			<p>技术支持：长沙微康信息科技有限公司</p>
			<p>2014&copy;版权所有 长沙微康信息科技有限公司 湘ICP备14008641号-1</p>
		</div>
		<script src="../../js/lib/jquery/jquery-1.91.min.js"></script>
		<script src="../../js/lib/layer/layer.js"></script>
		<script src="../../js/lib/Validform/Validform.min.js"></script>
		<script>
			/* 表单校验*/
			var form = $(".reg-form").Validform({
				postonce: true,
				beforeSubmit: function(form) {
					submitFormData();
					return false;
				},
				tiptype: function(msg, o) {
					if(msg) {
						layer.tips(msg, o.obj[0], {
							tips: 3
						})
					}
				},
			});

			/*表单提交*/
			function submitFormData() {
				$.ajax({
					url: '',
					type: 'post',
					data: $('.reg-form').serialize(),
					dataType: 'json',
					success: function(obj) {
						if(obj.code == 1) {
							layer.closeAll();
							layer.msg(obj.msg, {
								icon: 1
							});
							return;
						}
						layer.msg(obj.msg, {
							icon: 0
						});
					},
					error: function(obj) {
						layer.msg(obj.msg, {
							icon: 2
						})
					}
				})
			}
		</script>
	</body>
</html>
